(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"../leavitt-file-explorer/lib/leavitt-file-edit.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LeavittFileEditElement",(function(){return LeavittFileEditElement}));__webpack_require__("../../node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.create.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/es.weak-set.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-prototype-of.js");var _templateObject,_templateObject2,_LeavittFileEditElement_instances,_LeavittFileEditElement_populateForm,_LeavittFileEditElement_saveToRemote,tslib__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../leavitt-file-explorer/node_modules/tslib/tslib.es6.js"),lit__WEBPACK_IMPORTED_MODULE_16__=(__webpack_require__("../../node_modules/@material/mwc-textfield/mwc-textfield.js"),__webpack_require__("../../node_modules/@material/mwc-button/mwc-button.js"),__webpack_require__("../../node_modules/lit/index.js")),lit_decorators_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../node_modules/lit/decorators.js"),_leavittsoftware_titanium_snackbar__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../titanium-snackbar/lib/titanium-snackbar.js"),_leavittsoftware_titanium_styles__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../titanium-styles/lib/titanium-styles.js"),_leavittsoftware_titanium_loading_indicator_lib_titanium_full_page_loading_indicator__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../titanium-loading-indicator/lib/titanium-full-page-loading-indicator.js"),_mapi_service__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../leavitt-file-explorer/lib/mapi-service.js"),_file_explorer_events__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../leavitt-file-explorer/lib/file-explorer-events.js");function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var LeavittFileEditElement=function(_LitElement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LeavittFileEditElement,_LitElement);var _firstUpdated,_super=_createSuper(LeavittFileEditElement);function LeavittFileEditElement(){var _this;return _classCallCheck(this,LeavittFileEditElement),_this=_super.apply(this,arguments),_LeavittFileEditElement_instances.add(_assertThisInitialized(_this)),_this.file=null,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LeavittFileEditElement,[{key:"updated",value:function updated(changedProps){changedProps.has("file")&&Object(tslib__WEBPACK_IMPORTED_MODULE_13__.a)(this,_LeavittFileEditElement_instances,"m",_LeavittFileEditElement_populateForm).call(this)}},{key:"firstUpdated",value:(_firstUpdated=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.updateComplete;case 2:this.nameTextField.focus();case 3:case"end":return _context.stop()}}),_callee,this)}))),function firstUpdated(){return _firstUpdated.apply(this,arguments)})},{key:"render",value:function render(){var _a,_b,_c,_this2=this;return Object(lit__WEBPACK_IMPORTED_MODULE_16__.c)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n      <header>\n        <h1>Edit filename</h1>\n      </header>\n      <main>\n        <mwc-textfield\n          .value=","\n          @input=",'\n          required\n          outlined\n          label="File name"\n          @keyup=',"\n        ></mwc-textfield>\n      </main>\n      <modal-actions>\n        <mwc-button @click=",' label="CANCEL"></mwc-button>\n        <mwc-button ?disabled='," @click=",' label="SAVE"></mwc-button>\n      </modal-actions>\n    '])),null!==(_b=null===(_a=this.file)||void 0===_a?void 0:_a.Name)&&void 0!==_b?_b:"",(function(e){return _this2.fileName=e.target.value}),(function(event){"Enter"===event.key&&Object(tslib__WEBPACK_IMPORTED_MODULE_13__.a)(_this2,_LeavittFileEditElement_instances,"m",_LeavittFileEditElement_saveToRemote).call(_this2)}),(function(){return _this2.dispatchEvent(new CustomEvent("cancel-click"))}),this.fileName===(null===(_c=this.file)||void 0===_c?void 0:_c.Name),(function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_13__.a)(_this2,_LeavittFileEditElement_instances,"m",_LeavittFileEditElement_saveToRemote).call(_this2)}))}}]),LeavittFileEditElement}(lit__WEBPACK_IMPORTED_MODULE_16__.a);_LeavittFileEditElement_instances=new WeakSet,_LeavittFileEditElement_populateForm=function _LeavittFileEditElement_populateForm(){var _a,_b;this.fileName=null!==(_b=null===(_a=this.file)||void 0===_a?void 0:_a.Name)&&void 0!==_b?_b:""},_LeavittFileEditElement_saveToRemote=function(){var _LeavittFileEditElement_saveToRemote2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _a,_b,dto,patch;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.nameTextField.reportValidity()&&this.fileName!==(null===(_a=this.file)||void 0===_a?void 0:_a.Name)){_context2.next=2;break}return _context2.abrupt("return");case 2:return dto={Name:this.fileName},_context2.prev=3,patch=_mapi_service__WEBPACK_IMPORTED_MODULE_21__.a.patchAsync("FileExplorerAttachments("+(null===(_b=this.file)||void 0===_b?void 0:_b.Id)+")",dto),this.dispatchEvent(new _leavittsoftware_titanium_loading_indicator_lib_titanium_full_page_loading_indicator__WEBPACK_IMPORTED_MODULE_20__.a(patch)),_context2.next=8,patch;case 8:_file_explorer_events__WEBPACK_IMPORTED_MODULE_22__.a.dispatch("FileExplorerFileDto","Update",Object.assign({},this.file,{Name:this.fileName})),this.dispatchEvent(new CustomEvent("save-click")),_context2.next=15;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(3),_leavittsoftware_titanium_snackbar__WEBPACK_IMPORTED_MODULE_18__.a.open(_context2.t0);case 15:case"end":return _context2.stop()}}),_callee2,this,[[3,12]])})));return function _LeavittFileEditElement_saveToRemote(){return _LeavittFileEditElement_saveToRemote2.apply(this,arguments)}}(),LeavittFileEditElement.styles=[_leavittsoftware_titanium_styles__WEBPACK_IMPORTED_MODULE_19__.d,Object(lit__WEBPACK_IMPORTED_MODULE_16__.b)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n      :host {\n        display: block;\n      }\n\n      header {\n        padding: 12px 12px 12px 24px;\n        border-bottom: 1px solid var(--app-border-color, #dadce0);\n      }\n\n      header h1 {\n        margin: 6px 0 0 0;\n      }\n\n      main {\n        display: grid;\n        margin: 40px 24px 12px 24px;\n      }\n\n      modal-actions {\n        display: grid;\n        grid-auto-flow: column;\n        justify-content: right;\n        gap: 8px;\n        padding: 12px;\n      }\n\n      @media (max-width: 720px) {\n        div {\n          min-width: 0;\n        }\n      }\n    "])))],Object(tslib__WEBPACK_IMPORTED_MODULE_13__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_17__.c)({type:Object})],LeavittFileEditElement.prototype,"file",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_13__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_17__.h)()],LeavittFileEditElement.prototype,"fileName",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_13__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_17__.d)("mwc-textfield")],LeavittFileEditElement.prototype,"nameTextField",void 0),LeavittFileEditElement=Object(tslib__WEBPACK_IMPORTED_MODULE_13__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_17__.a)("leavitt-file-edit")],LeavittFileEditElement)}}]);