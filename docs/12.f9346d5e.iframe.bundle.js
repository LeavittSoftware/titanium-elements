(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"../leavitt-file-explorer/lib/leavitt-add-folder-modal.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LeavittAddFolderModalElement",(function(){return LeavittAddFolderModalElement}));__webpack_require__("../../node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.create.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/core-js/modules/es.weak-set.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-prototype-of.js");var _templateObject,_templateObject2,_LeavittAddFolderModalElement_instances,_LeavittAddFolderModalElement_reset,_LeavittAddFolderModalElement_save,tslib__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../leavitt-file-explorer/node_modules/tslib/tslib.es6.js"),lit__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../leavitt-file-explorer/node_modules/lit/index.js"),lit_decorators_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../leavitt-file-explorer/node_modules/lit/decorators.js"),_leavittsoftware_titanium_snackbar__WEBPACK_IMPORTED_MODULE_22__=(__webpack_require__("../../node_modules/@material/mwc-button/mwc-button.js"),__webpack_require__("../../node_modules/@material/mwc-textfield/mwc-textfield.js"),__webpack_require__("../titanium-dialog/lib/titanium-dialog.js"),__webpack_require__("../titanium-snackbar/lib/titanium-snackbar.js")),_leavittsoftware_titanium_loading_indicator_lib_titanium_full_page_loading_indicator__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../titanium-loading-indicator/lib/titanium-full-page-loading-indicator.js"),_api2_service__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../leavitt-file-explorer/lib/api2-service.js");function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var LeavittAddFolderModalElement=function(_LitElement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LeavittAddFolderModalElement,_LitElement);var _open,_super=_createSuper(LeavittAddFolderModalElement);function LeavittAddFolderModalElement(){var _this;return _classCallCheck(this,LeavittAddFolderModalElement),_this=_super.apply(this,arguments),_LeavittAddFolderModalElement_instances.add(_assertThisInitialized(_this)),_this.name="",_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LeavittAddFolderModalElement,[{key:"open",value:(_open=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _a,_b,dto,post,result,_this2=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setTimeout((function(){_this2.nameTextField.focus()}),0),_context.next=3,this.titaniumDialog.open();case 3:if("confirm"===_context.sent){_context.next=7;break}return Object(tslib__WEBPACK_IMPORTED_MODULE_16__.a)(this,_LeavittAddFolderModalElement_instances,"m",_LeavittAddFolderModalElement_reset).call(this),_context.abrupt("return",null);case 7:return dto={FileExplorerId:this.fileExplorerId,Name:this.name,ParentFolderId:this.parentFolderId||void 0},_context.prev=8,post=_api2_service__WEBPACK_IMPORTED_MODULE_24__.a.postAsync("FileExplorerFolders?$expand=CreatorPerson($select=FirstName,LastName)",dto),_context.next=12,post;case 12:return result=_context.sent.entity,this.dispatchEvent(new _leavittsoftware_titanium_loading_indicator_lib_titanium_full_page_loading_indicator__WEBPACK_IMPORTED_MODULE_23__.a(post)),Object(tslib__WEBPACK_IMPORTED_MODULE_16__.a)(this,_LeavittAddFolderModalElement_instances,"m",_LeavittAddFolderModalElement_reset).call(this),_context.abrupt("return",Object.assign({},result,{CreatorLastName:null===(_a=null==result?void 0:result.CreatorPerson)||void 0===_a?void 0:_a.LastName,CreatorFirstName:null===(_b=null==result?void 0:result.CreatorPerson)||void 0===_b?void 0:_b.FirstName}));case 18:_context.prev=18,_context.t0=_context.catch(8),_leavittsoftware_titanium_snackbar__WEBPACK_IMPORTED_MODULE_22__.a.open(_context.t0);case 21:return Object(tslib__WEBPACK_IMPORTED_MODULE_16__.a)(this,_LeavittAddFolderModalElement_instances,"m",_LeavittAddFolderModalElement_reset).call(this),_context.abrupt("return",null);case 23:case"end":return _context.stop()}}),_callee,this,[[8,18]])}))),function open(){return _open.apply(this,arguments)})},{key:"render",value:function render(){var _this3=this;return Object(lit__WEBPACK_IMPORTED_MODULE_17__.c)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(['\n      <titanium-dialog header="Add folder" fullwidth>\n        <div slot="content">\n          <main>\n            <mwc-textfield\n              @keyup=',"\n              @input=","\n              .value=",'\n              required\n              outlined\n              label="Name"\n            ></mwc-textfield>\n          </main>\n        </div>\n        <div slot="actions">\n          <mwc-button\n            @click=','\n            label="CANCEL"\n          ></mwc-button>\n          <mwc-button @click=',' label="SAVE"></mwc-button>\n        </div>\n      </titanium-dialog>\n    '])),(function(event){"Enter"===event.key&&Object(tslib__WEBPACK_IMPORTED_MODULE_16__.a)(_this3,_LeavittAddFolderModalElement_instances,"m",_LeavittAddFolderModalElement_save).call(_this3)}),(function(event){_this3.name=event.target.value}),this.name||"",(function(){_this3.titaniumDialog.close("cancel")}),(function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_16__.a)(_this3,_LeavittAddFolderModalElement_instances,"m",_LeavittAddFolderModalElement_save).call(_this3)}))}}]),LeavittAddFolderModalElement}(lit__WEBPACK_IMPORTED_MODULE_17__.a);_LeavittAddFolderModalElement_instances=new WeakSet,_LeavittAddFolderModalElement_reset=function(){var _LeavittAddFolderModalElement_reset2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _a;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.name="",_context2.next=3,this.updateComplete;case 3:null===(_a=this.nameTextField.mdcFoundation)||void 0===_a||_a.setValid(!0),this.nameTextField.isUiValid=!0;case 5:case"end":return _context2.stop()}}),_callee2,this)})));return function _LeavittAddFolderModalElement_reset(){return _LeavittAddFolderModalElement_reset2.apply(this,arguments)}}(),_LeavittAddFolderModalElement_save=function _LeavittAddFolderModalElement_save(){this.nameTextField.reportValidity()&&this.titaniumDialog.close("confirm")},LeavittAddFolderModalElement.styles=Object(lit__WEBPACK_IMPORTED_MODULE_17__.b)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n    :host {\n      --titanium-dialog-max-width: 550px;\n    }\n\n    main {\n      display: grid;\n    }\n\n    @media (max-width: 520px) {\n      main {\n        min-width: 0;\n      }\n    }\n  "]))),Object(tslib__WEBPACK_IMPORTED_MODULE_16__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:Number})],LeavittAddFolderModalElement.prototype,"fileExplorerId",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_16__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:Number})],LeavittAddFolderModalElement.prototype,"parentFolderId",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_16__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_18__.d)()],LeavittAddFolderModalElement.prototype,"name",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_16__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_18__.c)("titanium-dialog")],LeavittAddFolderModalElement.prototype,"titaniumDialog",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_16__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_18__.c)("mwc-textfield")],LeavittAddFolderModalElement.prototype,"nameTextField",void 0),LeavittAddFolderModalElement=Object(tslib__WEBPACK_IMPORTED_MODULE_16__.c)([Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_18__.a)("leavitt-add-folder-modal")],LeavittAddFolderModalElement)}}]);