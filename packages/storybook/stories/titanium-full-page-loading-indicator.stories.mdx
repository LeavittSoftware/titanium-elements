import { Story, Canvas, Meta, ArgsTable } from '@storybook/addon-docs';
import { html } from 'lit';

import '@leavittsoftware/titanium-loading-indicator/lib/titanium-full-page-loading-indicator';

<Meta
  title="UI COMPONENTS/titanium-full-page-loading-indicator"
  parameters={{ component: 'titanium-full-page-loading-indicator' }}
/>

# Titanium Full Page Loading Indicator

A simple full-screen veil with loading indicator.

## How to use

```bash
npm i @leavittsoftware/titanium-loading-indicator
```

```js
import '@leavittsoftware/titanium-loading-indicator/lib/titanium-full-page-loading-indicator';
```

## API

<ArgsTable of="titanium-full-page-loading-indicator" />

## Demo

<Canvas withToolbar>
  <Story name="Docs">
    {html`
      <a
        href="#"
        @click=${e => {
          e.preventDefault();
          const work = new Promise(r => setTimeout(r, 50));
          const work2 = new Promise(r => setTimeout(r, 3000));
          window.dispatchEvent(
            new CustomEvent('pending-state', {
              composed: true,
              bubbles: true,
              detail: { promise: work.then(() => console.log('Done 1')) },
            })
          );
          window.dispatchEvent(
            new CustomEvent('pending-state', {
              composed: true,
              bubbles: true,
              detail: { promise: work2.then(() => console.log('Done 2')) },
            })
          );
        }}
      >
        Open loading veil for 2 seconds
      </a>
      <titanium-full-page-loading-indicator one></titanium-full-page-loading-indicator>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story name="Scroll lock demo " height="200px">
    {html`
      <a
        href="#"
        @click=${e => {
          e.preventDefault();
          document.querySelector(`titanium-full-page-loading-indicator[two]`).open();
        }}
      >
        Open dialog no title
      </a>
      <div style="height:120vh; color:blue;width:20px;"></div>
      <titanium-full-page-loading-indicator two></titanium-full-page-loading-indicator>
    `}
  </Story>
</Canvas>
